---
import CategoryBlock from "../../components/CategoryBlock.astro";
import getSlug from "../../utils/mdxSlug";

const categories = await Astro.glob("../../categories/*.mdx");
---

<section>
  <h4>lub przeglÄ…daj w kategoriach</h4>
  <div id="categories">
    {
      categories.map(
        ({ frontmatter: { name, icon, index }, file }) =>
          Boolean(index) && (
            <CategoryBlock
              title={name}
              href={`${Astro.url.origin}/dokumenty?katergoria=${getSlug(file)}`}
              icon={icon}
            />
          )
      )
    }
  </div>
  <footer>
    <a href={`${Astro.url.origin}/dokumenty`}>Zobacz wszystkie dokumenty</a>
  </footer>
</section>

<style>
  section {
    /* @apply lg:px-60; */
    @apply text-center w-full;
    @apply flex flex-col gap-40;
  }

  section > div {
    @apply flex flex-wrap items-center justify-center lg:grid lg:grid-cols-5 gap-30;
    @apply m-auto;
  }

  footer > a {
    @apply btn btn-alt;
  }

  section > h4 {
    @apply text-dark55;
  }
</style>
