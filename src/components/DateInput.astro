---
import { LOCALE } from "../utils/date";

const { date, name, label, size } = Astro.props;

function formatDate(date) {
    const dateObj = new Date(date);
    const year = dateObj.toLocaleDateString(LOCALE, { year: "numeric" });
    const month = dateObj.toLocaleDateString(LOCALE, { month: "2-digit" });
    const day = dateObj.toLocaleDateString(LOCALE, { day: "2-digit" });

    return `${year}-${month}-${day}`;
}
---

<div class={`input-group${size ? ` ${size}` : ``}`}>
    <label for={name}>{label}</label>
    <input
        id="start"
        type="date"
        name={name}
        value={formatDate(date)}
        required
    />
</div>
