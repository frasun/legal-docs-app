---
import Layout from "../layouts/Layout.astro";
import Appbar from "@components/Appbar.astro";
import Footer from "@components/Footer.astro";
import getTitle from "@utils/pageTitle";
import { getSession } from "auth-astro/server";

const session = await getSession(Astro.request);
const userEmail = session?.user?.email ?? undefined;
---

<Layout title={getTitle("Podana strona nie istnieje (404)")}>
  <Appbar email={userEmail} />
  <main>
    <section id="error">
      <h1>Przykro nam, podana strona nie istnieje (404)</h1>
      <a href="/">Idź do strony głównej</a>
    </section>
    <Footer />
  </main>
</Layout>

<style>
  main {
    @apply container;
    @apply flex items-center justify-center;
    @apply gap-50;
    @apply flex-col;
  }

  @media (min-height: 500px) {
    main {
      @apply h-[calc(100vh-var(--navbar-height))];
    }
  }

  #error {
    @apply flex flex-col gap-60 justify-center;
    @apply flex-grow;
  }

  main :global(> footer) {
    @apply px-0;
  }
</style>
