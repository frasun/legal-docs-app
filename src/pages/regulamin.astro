---
import Layout from "../layouts/Layout.astro";
import pageTitle from "@utils/pageTitle";
import BlogContent from "@components/BlogContent.astro";
import { getPage } from "@api/pages";
import routes from "@utils/routes";
import type { Page } from "@type";
import { captureError } from "@utils/sentry";

const pageId = `2041bad6-bf46-450d-a5c6-2dd2afa09501`;
let title: Page["title"] | undefined, body: Page["body"];

try {
  ({ title, body } = await getPage(pageId));
} catch (e) {
  captureError(e);
  return Astro.redirect(routes.NOT_FOUND);
}
---

<Layout title={pageTitle(title)}>
  <div class="prose">
    <h1>{title}</h1>
    {body && <BlogContent content={body} />}
  </div>
</Layout>

<style>
  div {
    @apply bg-white rounded-lg p-30;
    @apply w-[90%] max-w-[900px] mx-auto;
    @apply my-20 sm:my-30;
  }
</style>
