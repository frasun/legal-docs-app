---
import Logo from "../images/logo-sign.astro";
import { SignOut } from "../auth-astro/components";
import { Icon } from "astro-icon";

const { session } = Astro.props;
---

<nav>
  <a href="/" aria-label="Prawniczek">
    <Logo />
  </a>
  <div>
    <a
      href=`${Astro.url.origin}/dokumenty`
      aria-label="Nowy dokument"
      title="Nowy dokument"
      class:list={{
        active: `${Astro.url.pathname}` === `/dokumenty`,
      }}
    >
      <Icon name="add" width={24} height={24} />
    </a>
    {
      session && (
        <a
          href={`${Astro.url.origin}/moje-dokumenty`}
          aria-label="Moje dokumenty"
          title="Moje dokumenty"
          class:list={{
            active: `${Astro.url.pathname}` === `/moje-dokumenty`,
          }}
        >
          <Icon name="document" width={24} height={24} />
        </a>
      )
    }
  </div>
  <footer>
    {
      session ? (
        <SignOut
          title="Wyloguj się"
          aira-label="Wyloguj się"
          params={{ callbackUrl: Astro.url.origin }}
        >
          <Icon name="signout" width={24} height={24} />
        </SignOut>
      ) : (
        <a href={`${Astro.url.origin}/zaloguj-sie`} title="Zaloguj się">
          <Icon name="signin" width={24} height={24} />
        </a>
      )
    }
  </footer>
</nav>

<style>
  nav {
    @apply bg-white;
    @apply p-15;
    @apply flex flex-col gap-15;
  }

  nav > div,
  nav > footer {
    @apply flex flex-col gap-10;
  }

  nav > div {
    @apply flex-grow;
  }

  nav > div a,
  nav > footer a,
  nav > div button,
  nav > footer button {
    @apply btn btn-alt;
  }

  a.active {
    @apply bg-transparent pointer-events-none;
  }

  a.active svg {
    @apply text-orange;
  }
</style>
